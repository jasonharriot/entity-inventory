<!DOCTYPE html>

<html>
	<head>
		<link rel="stylesheet" href="/style/style.css" />
		<link rel="stylesheet" href="/style/fields.css" />
		<link rel="stylesheet" href="/style/edit.css" />
	</head>
	<body>
		<div id="container">
			<div id="header">
				<h1>Entity Inventory</h1>

				<h2><a class="backArrow" href="/"><img src="img/arrow_left.png">Home</a></h2>
			</div>

			<div id="contentContainer">
				<div class="section">
					<h2>Entity card for tag no. <span class="fill" id="fillTagID"><i>loading...</i></span></h2>
					<table class="cardTable">
						<tbody>
							<tr class="rowEven">
								<td class="fieldCol">Entity type (sample, part, document, bag, etc.)</td>
								<td class="valueCol"><input type="text" class="fill" id="fillType"/></td>
							</tr>
							<tr class="rowOdd">
								<td class="fieldCol">Contents (chemical name)</td>
								<td class="valueCol"><input type="text" class="fill" id="fillContents"/></td>
							</tr>
							<tr class="rowEven">
								<td class="fieldCol">Date (when this object was created/labeled)</td>
								<td class="valueCol"><input type="text" class="fill" id="fillDateSample"/></td>
							</tr>
							<tr class="rowOdd">
								<td class="fieldCol">Initial mass of sample</td>
								<td class="valueCol"><input type="text" class="fill" id="fillMassInitialkg"/></td>
							</tr>
							<tr class="rowEven">
								<td class="fieldCol"><p>Parent ID(s)</p><p>What other samples does this sample contain?</p></td>
								<td class="valueCol"><input type="text" class="fill" id="fillParentIDs"/></td>
							</tr>
							<tr class="rowOdd">
								<td class="fieldCol">Status (thrown away, consumed, lost, etc.)</td>
								<td class="valueCol"><input type="text" class="fill" id="fillStatus"/></td>
							</tr>
							<tr class="rowEven">
								<td class="fieldCol">Container size</td>
								<td class="valueCol"><input type="text" class="fill" id="fillContainerSize"/></td>
							</tr>
							<tr class="rowOdd">
								<td class="fieldCol">Physical form (liquid, solid, dust, chunks, paste, slime, gas, plasma, antimatter, etc.)</td>
								<td class="valueCol"><input type="text" class="fill" id="fillForm"/></td>
							</tr>
							<tr class="rowEven">
								<td class="fieldCol">Date of original experiment/batch</td>
								<td class="valueCol"><input type="text" class="fill" id="fillDateExperiment"/></td>
							</tr>
						</tbody>
					</table>
					
					<h3>Notes</h3>
					<div class="cardNotes">
						<textarea class="fill" id="fillNotes">
						</textarea>
					</div>
					<p>
						<input type="button" id="buttonDiscard" value="Discard changes" />
						<input type="button" id="buttonSave" value="Save changes"/>
					</p>
				</div>
			</div>

			<div id="footer">
				EDAC Labs, Inc.
			</div>
		</div>
		<script type="text/javascript" src="/js/getCard.js"></script>
		<script type="text/javascript" src="/js/showCard.js"></script>
		<script type="text/javascript" src="/js/viewCard.js"></script>

		<script type="text/javascript">
			const buttonSaveElem = document.getElementById('buttonSave');

			const buttonDiscardElem = document.getElementById('buttonDiscard');

			

			getCard().then((card) => {
				showCard(card)

				buttonSaveElem.addEventListener('click', () =>  {

				})

				buttonDiscardElem.addEventListener('click', () => {
					if(confirm('Really discard changes?')){
						window.location.href = `/viewcard.html?tagid=${card.id}`
					} 
				})

			}).catch( e => {
				console.error('Something went wrong:', e);
			});
		</script>
	</body>
</html>
